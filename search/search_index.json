{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#ezdwg","title":"ezdwg","text":"<p>Minimal DWG (R14\u2013R2018 / AC1014\u2013AC1032) reader with a Python API inspired by ezdxf.</p> <p>ezdwg is a DWG parser with a Rust core exposed to Python via PyO3. It provides a simple, friendly API for extracting geometry, text, dimensions, and other entities from DWG files, and includes a native AC1015 writer for basic entities.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>DWG parsing \u2014 R14 (AC1014) through R2018 (AC1032)</li> <li>High-performance Rust core \u2014 fast binary parsing via PyO3</li> <li>ezdxf-inspired API \u2014 familiar <code>Document</code> / <code>Layout</code> / <code>Entity</code> pattern</li> <li>Plotting support \u2014 render DWG files with matplotlib</li> <li>DXF export \u2014 convert DWG to DXF using ezdxf as backend</li> <li>Native DWG write (AC1015) \u2014 write <code>LINE/RAY/XLINE/POINT/ARC/CIRCLE/LWPOLYLINE/TEXT/MTEXT</code></li> <li>CLI tools \u2014 inspect, convert, and write DWG files from the command line</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>import ezdwg\n\ndoc = ezdwg.read(\"drawing.dwg\")\nmsp = doc.modelspace()\n\nfor entity in msp.query(\"LINE ARC CIRCLE\"):\n    print(entity.dxftype, entity.handle, entity.dxf)\n</code></pre>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Installation \u2014 get ezdwg up and running</li> <li>Quick Start \u2014 learn the basics in 5 minutes</li> <li>User Guide \u2014 detailed usage guides</li> <li>API Reference \u2014 full API documentation</li> </ul>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#changelog","title":"Changelog","text":""},{"location":"changelog/#unreleased","title":"Unreleased","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Native <code>AC1021</code> (<code>R2007</code>) read path in the high-level API (<code>ezdwg.read</code>) without compatibility conversion.</li> <li>Native <code>AC1024</code> (<code>R2010</code>) read path in the high-level API (<code>ezdwg.read</code>) for <code>LINE</code>, <code>ARC</code>, and <code>LWPOLYLINE</code>.</li> <li>Native <code>AC1027</code> (<code>R2013</code>) read path in the high-level API (<code>ezdwg.read</code>) for <code>LINE</code>, <code>ARC</code>, and <code>LWPOLYLINE</code>.</li> <li>AC1021 regression suite covering:</li> <li>Rust object/entity decode checks for <code>LINE</code>, <code>ARC</code>, <code>LWPOLYLINE</code>.</li> <li>Python high-level and raw API checks with paired sample files.</li> <li>CLI <code>inspect</code> verification for native <code>decode_version: AC1021</code>.</li> <li>AC1024 regression suite covering high-level and raw geometry checks against paired DXF samples for:</li> <li><code>LINE</code></li> <li><code>ARC</code></li> <li><code>LWPOLYLINE</code></li> <li>AC1027 regression suite covering high-level and raw geometry checks against paired DXF samples for:</li> <li><code>LINE</code></li> <li><code>ARC</code></li> <li><code>LWPOLYLINE</code></li> <li>R2007+/R2010+/R2013+ regression coverage for:</li> <li><code>POINT</code></li> <li><code>CIRCLE</code></li> <li><code>ELLIPSE</code></li> <li>TEXT/MTEXT regression coverage for <code>R2000</code>/<code>R2004</code> sample pairs.</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Removed the external DWG compatibility-conversion path from <code>ezdwg.read</code>; AC10xx versions in scope now use native decode paths.</li> <li>R2007/R2010/R2013 entity decoding now uses version-aware common header paths for:</li> <li><code>LINE</code></li> <li><code>ARC</code></li> <li><code>LWPOLYLINE</code></li> <li><code>POINT</code></li> <li><code>CIRCLE</code></li> <li><code>ELLIPSE</code></li> <li><code>TEXT</code></li> <li><code>MTEXT</code></li> <li><code>DIMENSION</code> (linear/radius/diameter)   to account for <code>material flags</code>, <code>shadow flags</code>, R2010 visual-style bits, and the R2013+ ds-binary-data flag.</li> </ul>"},{"location":"changelog/#notes","title":"Notes","text":"<ul> <li>This release keeps API signatures stable (<code>ezdwg.read</code>, <code>ezdwg.raw</code>, entity decode functions).</li> <li>ARC angles remain radians in <code>ezdwg.raw</code> and degrees in the high-level API.</li> <li>AC1021/AC1024/AC1027 style-handle and layer-color resolution for LINE/ARC/LWPOLYLINE is currently best-effort on some files.</li> </ul>"},{"location":"api/","title":"API Reference","text":""},{"location":"api/#api-reference","title":"API Reference","text":"<p>ezdwg provides two levels of API:</p>"},{"location":"api/#high-level-api","title":"High-Level API","text":"<p>The high-level API is the recommended way to work with DWG files. It provides a clean <code>Document</code> / <code>Layout</code> / <code>Entity</code> abstraction.</p> Module Description Core Functions <code>ezdwg.read()</code>, <code>ezdwg.plot()</code>, <code>ezdwg.to_dxf()</code>, <code>ezdwg.to_dwg()</code> Document &amp; Layout <code>Document</code> and <code>Layout</code> classes Entity <code>Entity</code> dataclass"},{"location":"api/#raw-api","title":"Raw API","text":"<p>The raw API (<code>ezdwg.raw</code>) provides direct access to the Rust decode functions. It returns data as tuples and is useful for performance-critical code or when you need access to fields not exposed by the high-level API.</p> Module Description Raw API Low-level decode functions <p>Angle Units</p> <p>The high-level API returns ARC angles in degrees. The raw API returns angles in radians.</p>"},{"location":"api/core/","title":"Core Functions","text":""},{"location":"api/core/#core-functions","title":"Core Functions","text":""},{"location":"api/core/#ezdwgread","title":"ezdwg.read","text":"<pre><code>ezdwg.read(path: str) -&gt; Document\n</code></pre> <p>Open a DWG file and return a <code>Document</code>.</p> <p>Parameters:</p> <ul> <li><code>path</code> \u2014 Path to the DWG file.</li> </ul> <p>Returns: A <code>Document</code> object.</p> <p>Raises: <code>ValueError</code> if the DWG version is unsupported.</p> <p>Example:</p> <pre><code>import ezdwg\n\ndoc = ezdwg.read(\"drawing.dwg\")\nprint(doc.version)\n</code></pre>"},{"location":"api/core/#ezdwgplot","title":"ezdwg.plot","text":"<pre><code>ezdwg.plot(\n    target: str | Document | Layout,\n    types: str | Iterable[str] | None = None,\n    ax: Axes | None = None,\n    show: bool = True,\n    equal: bool = True,\n    title: str | None = None,\n    line_width: float = 1.0,\n    arc_segments: int = 64,\n    auto_fit: bool = True,\n    fit_margin: float = 0.04,\n    dimension_color: Any | None = \"black\",\n) -&gt; Axes\n</code></pre> <p>Plot DWG entities using matplotlib.</p> <p>Parameters:</p> Parameter Type Default Description <code>target</code> <code>str \\| Document \\| Layout</code> \u2014 File path, Document, or Layout <code>types</code> <code>str \\| Iterable[str] \\| None</code> <code>None</code> Entity type filter <code>ax</code> <code>Axes \\| None</code> <code>None</code> Existing matplotlib axes <code>show</code> <code>bool</code> <code>True</code> Call <code>plt.show()</code> <code>equal</code> <code>bool</code> <code>True</code> Equal aspect ratio <code>title</code> <code>str \\| None</code> <code>None</code> Plot title <code>line_width</code> <code>float</code> <code>1.0</code> Line width <code>arc_segments</code> <code>int</code> <code>64</code> Segments for arcs <code>auto_fit</code> <code>bool</code> <code>True</code> Auto-fit view bounds <code>fit_margin</code> <code>float</code> <code>0.04</code> Margin fraction <code>dimension_color</code> <code>Any \\| None</code> <code>\"black\"</code> Dimension color <p>Returns: The matplotlib <code>Axes</code> object.</p> <p>Example:</p> <pre><code>import ezdwg\n\nezdwg.plot(\"drawing.dwg\", types=\"LINE ARC\", title=\"My Drawing\")\n</code></pre>"},{"location":"api/core/#ezdwgto_dxf","title":"ezdwg.to_dxf","text":"<pre><code>ezdwg.to_dxf(\n    source: str | Document | Layout,\n    output_path: str,\n    *,\n    types: str | Iterable[str] | None = None,\n    dxf_version: str = \"R2010\",\n    strict: bool = False,\n    include_unsupported: bool = False,\n) -&gt; ConvertResult\n</code></pre> <p>Convert a DWG file to DXF format.</p> <p>Parameters:</p> Parameter Type Default Description <code>source</code> <code>str \\| Document \\| Layout</code> \u2014 File path, Document, or Layout <code>output_path</code> <code>str</code> \u2014 Output DXF file path <code>types</code> <code>str \\| Iterable[str] \\| None</code> <code>None</code> Entity type filter <code>dxf_version</code> <code>str</code> <code>\"R2010\"</code> DXF version string <code>strict</code> <code>bool</code> <code>False</code> Fail on skipped entities <code>include_unsupported</code> <code>bool</code> <code>False</code> Query unsupported types <p>Returns: A <code>ConvertResult</code> object.</p> <p>Raises: <code>ValueError</code> in strict mode if entities are skipped. <code>ImportError</code> if ezdxf is not installed.</p>"},{"location":"api/core/#ezdwgto_dwg","title":"ezdwg.to_dwg","text":"<pre><code>ezdwg.to_dwg(\n    source: str | Document | Layout,\n    output_path: str,\n    *,\n    types: str | Iterable[str] | None = None,\n    version: str = \"AC1015\",\n    strict: bool = False,\n) -&gt; WriteResult\n</code></pre> <p>Write a DWG file using the native writer.</p> <p>Parameters:</p> Parameter Type Default Description <code>source</code> <code>str \\| Document \\| Layout</code> \u2014 File path, Document, or Layout <code>output_path</code> <code>str</code> \u2014 Output DWG file path <code>types</code> <code>str \\| Iterable[str] \\| None</code> <code>None</code> Entity type filter <code>version</code> <code>str</code> <code>\"AC1015\"</code> Output DWG version (currently AC1015 only) <code>strict</code> <code>bool</code> <code>False</code> Fail on skipped entities <p>Returns: A <code>WriteResult</code> object.</p> <p>Raises: <code>ValueError</code> when an unsupported write version is requested, or in strict mode if entities are skipped.</p> <p>Supported native write entities (v1):</p> <ul> <li><code>LINE</code></li> <li><code>RAY</code></li> <li><code>XLINE</code></li> <li><code>POINT</code></li> <li><code>ARC</code></li> <li><code>CIRCLE</code></li> <li><code>LWPOLYLINE</code></li> <li><code>TEXT</code></li> <li><code>MTEXT</code></li> </ul>"},{"location":"api/core/#convertresult","title":"ConvertResult","text":"<pre><code>@dataclass(frozen=True)\nclass ConvertResult:\n    source_path: str\n    output_path: str\n    total_entities: int\n    written_entities: int\n    skipped_entities: int\n    skipped_by_type: dict[str, int]\n</code></pre> <p>Result of a DWG to DXF conversion.</p> Attribute Type Description <code>source_path</code> <code>str</code> Input DWG path <code>output_path</code> <code>str</code> Output DXF path <code>total_entities</code> <code>int</code> Total entities processed <code>written_entities</code> <code>int</code> Successfully written <code>skipped_entities</code> <code>int</code> Skipped count <code>skipped_by_type</code> <code>dict[str, int]</code> Skipped by entity type"},{"location":"api/core/#writeresult","title":"WriteResult","text":"<pre><code>@dataclass(frozen=True)\nclass WriteResult:\n    source_path: str\n    output_path: str\n    target_version: str\n    total_entities: int\n    written_entities: int\n    skipped_entities: int\n    skipped_by_type: dict[str, int]\n</code></pre> <p>Result of a DWG write operation.</p> Attribute Type Description <code>source_path</code> <code>str</code> Input DWG path <code>output_path</code> <code>str</code> Output DWG path <code>target_version</code> <code>str</code> Target DWG version <code>total_entities</code> <code>int</code> Total entities processed <code>written_entities</code> <code>int</code> Successfully written <code>skipped_entities</code> <code>int</code> Skipped count <code>skipped_by_type</code> <code>dict[str, int]</code> Skipped by entity type"},{"location":"api/document/","title":"Document & Layout","text":""},{"location":"api/document/#document-layout","title":"Document &amp; Layout","text":""},{"location":"api/document/#document","title":"Document","text":"<pre><code>@dataclass(frozen=True)\nclass Document:\n    path: str\n    version: str\n    decode_path: str | None = None\n    decode_version: str | None = None\n</code></pre> <p>A DWG document. Created by <code>ezdwg.read()</code>.</p>"},{"location":"api/document/#properties","title":"Properties","text":"Property Type Description <code>path</code> <code>str</code> Path to the DWG file <code>version</code> <code>str</code> DWG version code (e.g. <code>\"AC1015\"</code>) <code>decode_path</code> <code>str \\| None</code> Path used for decoding (defaults to <code>path</code>) <code>decode_version</code> <code>str \\| None</code> Version used for decoding (defaults to <code>version</code>)"},{"location":"api/document/#methods","title":"Methods","text":""},{"location":"api/document/#modelspace","title":"modelspace","text":"<pre><code>Document.modelspace() -&gt; Layout\n</code></pre> <p>Return the modelspace layout.</p> <p>Example:</p> <pre><code>doc = ezdwg.read(\"drawing.dwg\")\nmsp = doc.modelspace()\n</code></pre>"},{"location":"api/document/#plot","title":"plot","text":"<pre><code>Document.plot(*args, **kwargs) -&gt; Axes\n</code></pre> <p>Plot all entities in the modelspace. Accepts the same parameters as <code>ezdwg.plot()</code>.</p>"},{"location":"api/document/#export_dxf","title":"export_dxf","text":"<pre><code>Document.export_dxf(output_path: str, **kwargs) -&gt; ConvertResult\n</code></pre> <p>Export the modelspace to a DXF file. Accepts the same keyword arguments as <code>ezdwg.to_dxf()</code>.</p>"},{"location":"api/document/#export_dwg","title":"export_dwg","text":"<pre><code>Document.export_dwg(output_path: str, **kwargs) -&gt; WriteResult\n</code></pre> <p>Export the modelspace to a DWG file using the native writer. Accepts the same keyword arguments as <code>ezdwg.to_dwg()</code>.</p>"},{"location":"api/document/#layout","title":"Layout","text":"<pre><code>@dataclass(frozen=True)\nclass Layout:\n    doc: Document\n    name: str\n</code></pre> <p>A drawing layout (e.g. modelspace).</p>"},{"location":"api/document/#methods_1","title":"Methods","text":""},{"location":"api/document/#query","title":"query","text":"<pre><code>Layout.query(types: str | Iterable[str] | None = None) -&gt; Iterator[Entity]\n</code></pre> <p>Iterate over entities, optionally filtered by type.</p> <p>Parameters:</p> <ul> <li><code>types</code> \u2014 Space-separated type names (e.g. <code>\"LINE ARC\"</code>), an iterable of type names, or <code>None</code> for all types.</li> </ul> <p>Returns: Iterator of <code>Entity</code> objects.</p> <p>Examples:</p> <pre><code># All entities\nfor entity in msp.query():\n    print(entity.dxftype)\n\n# Filter by type string\nfor line in msp.query(\"LINE\"):\n    print(line.dxf[\"start\"])\n\n# Multiple types\nfor entity in msp.query(\"LINE ARC CIRCLE\"):\n    print(entity.dxftype, entity.handle)\n\n# From an iterable\nfor entity in msp.query([\"LINE\", \"ARC\"]):\n    print(entity.dxftype)\n</code></pre>"},{"location":"api/document/#iter_entities","title":"iter_entities","text":"<pre><code>Layout.iter_entities(types: str | Iterable[str] | None = None) -&gt; Iterator[Entity]\n</code></pre> <p>Alias for <code>query()</code>.</p>"},{"location":"api/document/#plot_1","title":"plot","text":"<pre><code>Layout.plot(*args, **kwargs) -&gt; Axes\n</code></pre> <p>Plot entities in this layout. Accepts the same parameters as <code>ezdwg.plot()</code>.</p>"},{"location":"api/document/#export_dxf_1","title":"export_dxf","text":"<pre><code>Layout.export_dxf(output_path: str, **kwargs) -&gt; ConvertResult\n</code></pre> <p>Export this layout to a DXF file. Accepts the same keyword arguments as <code>ezdwg.to_dxf()</code>.</p>"},{"location":"api/document/#export_dwg_1","title":"export_dwg","text":"<pre><code>Layout.export_dwg(output_path: str, **kwargs) -&gt; WriteResult\n</code></pre> <p>Export this layout to a DWG file using the native writer. Accepts the same keyword arguments as <code>ezdwg.to_dwg()</code>.</p>"},{"location":"api/entity/","title":"Entity","text":""},{"location":"api/entity/#entity","title":"Entity","text":""},{"location":"api/entity/#entity_1","title":"Entity","text":"<pre><code>@dataclass(frozen=True)\nclass Entity:\n    dxftype: str\n    handle: int\n    dxf: dict[str, Any]\n</code></pre> <p>A DWG entity. Instances are returned by <code>Layout.query()</code>.</p>"},{"location":"api/entity/#fields","title":"Fields","text":"Field Type Description <code>dxftype</code> <code>str</code> Entity type name (e.g. <code>\"LINE\"</code>, <code>\"ARC\"</code>, <code>\"CIRCLE\"</code>) <code>handle</code> <code>int</code> Unique handle within the DWG file <code>dxf</code> <code>dict[str, Any]</code> Entity attributes (type-specific)"},{"location":"api/entity/#methods","title":"Methods","text":""},{"location":"api/entity/#to_points","title":"to_points","text":"<pre><code>Entity.to_points() -&gt; list[tuple[float, float, float]]\n</code></pre> <p>Extract key coordinate points from the entity.</p> <p>Returns: List of 3D points.</p> <p>Raises: <code>NotImplementedError</code> for unsupported entity types.</p> <p>Supported types:</p> Type Points Returned <code>LINE</code> <code>[start, end]</code> <code>LWPOLYLINE</code> All vertex points <code>POINT</code> <code>[location]</code> <code>TEXT</code> <code>[insert]</code> <code>MTEXT</code> <code>[insert]</code> <code>DIMENSION</code> <code>[defpoint2, defpoint3]</code> or <code>[text_midpoint]</code> <code>RAY</code> <code>[start, start + unit_vector]</code> <code>XLINE</code> <code>[start - unit_vector, start + unit_vector]</code> <p>Example:</p> <pre><code>for entity in msp.query(\"LINE\"):\n    start, end = entity.to_points()\n    print(f\"Line from {start} to {end}\")\n</code></pre>"},{"location":"api/entity/#supported-entity-types","title":"Supported Entity Types","text":"<p>The following entity types are supported by the high-level API:</p> Type Description <code>LINE</code> Line segment <code>ARC</code> Circular arc <code>CIRCLE</code> Full circle <code>ELLIPSE</code> Ellipse or elliptical arc <code>LWPOLYLINE</code> Lightweight polyline <code>POLYLINE_2D</code> 2D polyline <code>POLYLINE_3D</code> 3D polyline <code>POLYLINE_MESH</code> Polygon mesh <code>POLYLINE_PFACE</code> Polyface mesh <code>POINT</code> Point <code>TEXT</code> Single-line text <code>MTEXT</code> Multi-line text <code>ATTRIB</code> Block attribute <code>ATTDEF</code> Attribute definition <code>DIMENSION</code> Dimension (linear, radius, diameter, aligned, ordinate, angular) <code>LEADER</code> Leader line <code>HATCH</code> Hatch pattern <code>TOLERANCE</code> Tolerance annotation <code>MLINE</code> Multi-line <code>SPLINE</code> Spline curve <code>INSERT</code> Block reference <code>MINSERT</code> Multiple block reference (array) <code>3DFACE</code> 3D face <code>SOLID</code> Solid fill <code>TRACE</code> Trace <code>SHAPE</code> Shape reference <code>RAY</code> Ray <code>XLINE</code> Construction line <code>VIEWPORT</code> Viewport <code>OLEFRAME</code> OLE frame <code>OLE2FRAME</code> OLE2 frame <code>LONG_TRANSACTION</code> Long transaction <code>REGION</code> Region <code>3DSOLID</code> 3D solid <code>BODY</code> ACIS body"},{"location":"api/raw/","title":"Raw API","text":""},{"location":"api/raw/#raw-api","title":"Raw API","text":"<p>The <code>ezdwg.raw</code> module provides low-level access to the Rust decode functions. These functions return data as tuples for maximum performance.</p> <p>Angle Units</p> <p>The raw API returns ARC angles in radians, unlike the high-level API which uses degrees.</p>"},{"location":"api/raw/#file-inspection","title":"File Inspection","text":""},{"location":"api/raw/#detect_version","title":"detect_version","text":"<pre><code>raw.detect_version(path: str) -&gt; str\n</code></pre> <p>Detect the DWG version string (e.g. <code>\"AC1015\"</code>).</p>"},{"location":"api/raw/#list_section_locators","title":"list_section_locators","text":"<pre><code>raw.list_section_locators(path: str) -&gt; list[tuple[str, int, int]]\n</code></pre> <p>List section locators. Each tuple: <code>(name, offset, size)</code>.</p>"},{"location":"api/raw/#list_object_map_entries","title":"list_object_map_entries","text":"<pre><code>raw.list_object_map_entries(path: str, limit: int | None = None) -&gt; list[tuple[int, int]]\n</code></pre> <p>List object map entries. Each tuple: <code>(handle, offset)</code>.</p>"},{"location":"api/raw/#list_object_headers","title":"list_object_headers","text":"<pre><code>raw.list_object_headers(path: str, limit: int | None = None) -&gt; list[tuple[int, int, int, int]]\n</code></pre> <p>List object headers. Each tuple: <code>(handle, offset, size, type_code)</code>.</p>"},{"location":"api/raw/#list_object_headers_with_type","title":"list_object_headers_with_type","text":"<pre><code>raw.list_object_headers_with_type(path: str, limit: int | None = None) -&gt; list[tuple[int, int, int, int, str, str]]\n</code></pre> <p>List object headers with resolved type names. Each tuple: <code>(handle, offset, size, type_code, type_name, type_class)</code>.</p> <p><code>type_class</code> is <code>\"E\"</code> for entities and <code>\"O\"</code> for objects.</p>"},{"location":"api/raw/#list_object_headers_by_type","title":"list_object_headers_by_type","text":"<pre><code>raw.list_object_headers_by_type(path: str, type_codes: list[int], limit: int | None = None) -&gt; list[tuple[int, int, int, int, str, str]]\n</code></pre> <p>List object headers filtered by type codes.</p>"},{"location":"api/raw/#object-record-access","title":"Object Record Access","text":""},{"location":"api/raw/#read_object_records_by_type","title":"read_object_records_by_type","text":"<pre><code>raw.read_object_records_by_type(path: str, type_codes: list[int], limit: int | None = None) -&gt; list[tuple[int, int, int, int, bytes]]\n</code></pre> <p>Read raw object records by type code. Each tuple: <code>(handle, offset, size, type_code, data)</code>.</p>"},{"location":"api/raw/#read_object_records_by_handle","title":"read_object_records_by_handle","text":"<pre><code>raw.read_object_records_by_handle(path: str, handles: list[int], limit: int | None = None) -&gt; list[tuple[int, int, int, int, bytes]]\n</code></pre> <p>Read raw object records by handle.</p>"},{"location":"api/raw/#decode_object_handle_stream_refs","title":"decode_object_handle_stream_refs","text":"<pre><code>raw.decode_object_handle_stream_refs(path: str, handles: list[int], limit: int | None = None) -&gt; list[tuple[int, list[int]]]\n</code></pre> <p>Decode handle-stream references for objects. Each tuple: <code>(handle, ref_handles)</code>.</p>"},{"location":"api/raw/#style-and-layer-data","title":"Style and Layer Data","text":""},{"location":"api/raw/#decode_entity_styles","title":"decode_entity_styles","text":"<pre><code>raw.decode_entity_styles(path: str, limit: int | None = None) -&gt; list[tuple[int, int | None, int | None, int]]\n</code></pre> <p>Decode entity style information. Each tuple: <code>(handle, color_index, true_color, layer_handle)</code>.</p>"},{"location":"api/raw/#decode_layer_colors","title":"decode_layer_colors","text":"<pre><code>raw.decode_layer_colors(path: str, limit: int | None = None) -&gt; list[tuple[int, int, int | None]]\n</code></pre> <p>Decode layer color information. Each tuple: <code>(handle, color_index, true_color)</code>.</p>"},{"location":"api/raw/#geometry-decode-functions","title":"Geometry Decode Functions","text":"<p>All geometry decode functions take a <code>path</code> and optional <code>limit</code> parameter.</p>"},{"location":"api/raw/#decode_line_entities","title":"decode_line_entities","text":"<pre><code>raw.decode_line_entities(path: str, limit: int | None = None) -&gt; list[tuple[int, float, float, float, float, float, float]]\n</code></pre> <p>Each tuple: <code>(handle, start_x, start_y, start_z, end_x, end_y, end_z)</code>.</p>"},{"location":"api/raw/#decode_arc_entities","title":"decode_arc_entities","text":"<pre><code>raw.decode_arc_entities(path: str, limit: int | None = None) -&gt; list[tuple[int, float, float, float, float, float, float]]\n</code></pre> <p>Each tuple: <code>(handle, center_x, center_y, center_z, radius, start_angle, end_angle)</code>.</p> <p>Warning</p> <p>Angles are in radians.</p>"},{"location":"api/raw/#decode_circle_entities","title":"decode_circle_entities","text":"<pre><code>raw.decode_circle_entities(path: str, limit: int | None = None) -&gt; list[tuple[int, float, float, float, float]]\n</code></pre> <p>Each tuple: <code>(handle, center_x, center_y, center_z, radius)</code>.</p>"},{"location":"api/raw/#decode_point_entities","title":"decode_point_entities","text":"<pre><code>raw.decode_point_entities(path: str, limit: int | None = None) -&gt; list[tuple[int, float, float, float, float]]\n</code></pre> <p>Each tuple: <code>(handle, x, y, z, thickness)</code>.</p>"},{"location":"api/raw/#decode_ellipse_entities","title":"decode_ellipse_entities","text":"<pre><code>raw.decode_ellipse_entities(path: str, limit: int | None = None) -&gt; list[tuple[int, ...]]\n</code></pre> <p>Each tuple: <code>(handle, center, extrusion, major_axis, ratio, start_angle, end_angle)</code>.</p>"},{"location":"api/raw/#decode_lwpolyline_entities","title":"decode_lwpolyline_entities","text":"<pre><code>raw.decode_lwpolyline_entities(path: str, limit: int | None = None) -&gt; list[tuple[int, int, list[tuple[float, float]], list[float], list[tuple[float, float]], float | None]]\n</code></pre> <p>Each tuple: <code>(handle, flags, points, bulges, widths, const_width)</code>.</p>"},{"location":"api/raw/#decode_text_entities","title":"decode_text_entities","text":"<pre><code>raw.decode_text_entities(path: str, limit: int | None = None) -&gt; list[tuple[int, str, ...]]\n</code></pre> <p>Decode TEXT entities with text content, insertion point, alignment, and style information.</p>"},{"location":"api/raw/#decode_mtext_entities","title":"decode_mtext_entities","text":"<pre><code>raw.decode_mtext_entities(path: str, limit: int | None = None) -&gt; list[tuple[int, str, ...]]\n</code></pre> <p>Decode MTEXT entities with text content, insertion point, size, and attachment information.</p>"},{"location":"api/raw/#decode_dimension_entities","title":"decode_dimension_entities","text":"<pre><code>raw.decode_dimension_entities(path: str, limit: int | None = None) -&gt; list[tuple]\n</code></pre> <p>Decode all DIMENSION entity subtypes. Returns complex tuples containing dimension type, definition points, text, and measurement data.</p>"},{"location":"api/raw/#decode_insert_entities","title":"decode_insert_entities","text":"<pre><code>raw.decode_insert_entities(path: str, limit: int | None = None) -&gt; list[tuple[int, float, float, float, float, float, float, float, str | None]]\n</code></pre> <p>Each tuple: <code>(handle, x, y, z, xscale, yscale, zscale, rotation, block_name)</code>.</p>"},{"location":"api/raw/#bulk-decode","title":"Bulk Decode","text":""},{"location":"api/raw/#decode_line_arc_circle_entities","title":"decode_line_arc_circle_entities","text":"<pre><code>raw.decode_line_arc_circle_entities(path: str, limit: int | None = None) -&gt; tuple[list, list, list]\n</code></pre> <p>Decode LINE, ARC, and CIRCLE entities in a single pass for better performance. Returns a 3-tuple of <code>(lines, arcs, circles)</code>.</p>"},{"location":"api/raw/#usage-example","title":"Usage Example","text":"<pre><code>from ezdwg import raw\n\n# Detect version\nversion = raw.detect_version(\"drawing.dwg\")\nprint(f\"Version: {version}\")\n\n# Decode lines\nfor handle, sx, sy, sz, ex, ey, ez in raw.decode_line_entities(\"drawing.dwg\"):\n    print(f\"Line {handle}: ({sx},{sy},{sz}) -&gt; ({ex},{ey},{ez})\")\n\n# Decode arcs (angles in radians!)\nimport math\nfor handle, cx, cy, cz, r, sa, ea in raw.decode_arc_entities(\"drawing.dwg\"):\n    print(f\"Arc {handle}: center=({cx},{cy},{cz}) r={r} \"\n          f\"angles={math.degrees(sa):.1f}\u00b0-{math.degrees(ea):.1f}\u00b0\")\n</code></pre>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#installation","title":"Installation","text":""},{"location":"getting-started/installation/#from-pypi","title":"From PyPI","text":"<p>The simplest way to install ezdwg:</p> <pre><code>pip install ezdwg\n</code></pre>"},{"location":"getting-started/installation/#optional-dependencies","title":"Optional Dependencies","text":"<p>Plotting (matplotlib):</p> <pre><code>pip install \"ezdwg[plot]\"\n</code></pre> <p>DWG to DXF conversion (ezdxf backend):</p> <pre><code>pip install \"ezdwg[dxf]\"\n</code></pre> <p>Both extras:</p> <pre><code>pip install \"ezdwg[plot,dxf]\"\n</code></pre>"},{"location":"getting-started/installation/#from-source","title":"From Source","text":"<p>Building from source requires a Rust toolchain (stable) and Python &gt;= 3.10.</p> <pre><code>git clone https://github.com/monozukuri-ai/ezdwg.git\ncd ezdwg\nmaturin develop\npip install -e .\n</code></pre> <p>Rust Toolchain</p> <p>Install Rust via rustup if you don't have it. ezdwg uses PyO3 and maturin to build the native extension.</p>"},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python &gt;= 3.10</li> <li>Supported platforms: Linux, macOS, Windows</li> </ul>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":""},{"location":"getting-started/quickstart/#quick-start","title":"Quick Start","text":""},{"location":"getting-started/quickstart/#reading-a-dwg-file","title":"Reading a DWG File","text":"<pre><code>import ezdwg\n\ndoc = ezdwg.read(\"path/to/file.dwg\")\nprint(f\"Version: {doc.version}\")\n\nmsp = doc.modelspace()\n</code></pre>"},{"location":"getting-started/quickstart/#iterating-over-entities","title":"Iterating Over Entities","text":"<pre><code>for entity in msp.query(\"LINE LWPOLYLINE ARC CIRCLE ELLIPSE POINT TEXT MTEXT DIMENSION\"):\n    print(entity.dxftype, entity.handle, entity.dxf)\n</code></pre> <p>You can filter by specific types:</p> <pre><code># Only lines\nfor line in msp.query(\"LINE\"):\n    print(line.dxf[\"start\"], \"-&gt;\", line.dxf[\"end\"])\n\n# Multiple types\nfor entity in msp.query(\"ARC CIRCLE\"):\n    print(entity.dxftype, entity.dxf[\"center\"], entity.dxf[\"radius\"])\n</code></pre>"},{"location":"getting-started/quickstart/#plotting","title":"Plotting","text":"<p>Requires the <code>plot</code> extra (<code>pip install \"ezdwg[plot]\"</code>).</p> <pre><code>import ezdwg\n\ndoc = ezdwg.read(\"path/to/file.dwg\")\ndoc.plot()\n</code></pre> <p>Save to a file instead of displaying:</p> <pre><code>import matplotlib.pyplot as plt\n\ndoc = ezdwg.read(\"path/to/file.dwg\")\nax = doc.plot(show=False)\nplt.savefig(\"output.png\", dpi=150, bbox_inches=\"tight\")\n</code></pre>"},{"location":"getting-started/quickstart/#dwg-to-dxf-conversion","title":"DWG to DXF Conversion","text":"<p>Requires the <code>dxf</code> extra (<code>pip install \"ezdwg[dxf]\"</code>).</p> <pre><code>import ezdwg\n\nresult = ezdwg.to_dxf(\"input.dwg\", \"output.dxf\")\nprint(f\"Written: {result.written_entities}/{result.total_entities} entities\")\n</code></pre> <p>Or from an already opened document:</p> <pre><code>doc = ezdwg.read(\"input.dwg\")\ndoc.export_dxf(\"output.dxf\")\n</code></pre>"},{"location":"getting-started/quickstart/#dwg-to-dwg-native-ac1015-writer","title":"DWG to DWG (Native AC1015 Writer)","text":"<pre><code>import ezdwg\n\nresult = ezdwg.to_dwg(\"input.dwg\", \"output.dwg\", version=\"AC1015\")\nprint(f\"Written: {result.written_entities}/{result.total_entities} entities\")\n</code></pre> <p>Or from an already opened document:</p> <pre><code>doc = ezdwg.read(\"input.dwg\")\ndoc.export_dwg(\"output.dwg\", version=\"AC1015\")\n</code></pre>"},{"location":"getting-started/quickstart/#cli-usage","title":"CLI Usage","text":"<pre><code># Show version\nezdwg --version\n\n# Inspect a DWG file\nezdwg inspect path/to/file.dwg\n\n# Convert DWG to DXF\nezdwg convert input.dwg output.dxf\n\n# Write DWG (native AC1015 writer)\nezdwg write input.dwg output.dwg --dwg-version AC1015\n</code></pre>"},{"location":"guide/cli/","title":"CLI Reference","text":""},{"location":"guide/cli/#cli-reference","title":"CLI Reference","text":"<p>ezdwg provides a command-line interface for inspecting, converting, and writing DWG files.</p>"},{"location":"guide/cli/#version","title":"Version","text":"<pre><code>ezdwg --version\n</code></pre>"},{"location":"guide/cli/#inspect","title":"Inspect","text":"<p>Show information about a DWG file:</p> <pre><code>ezdwg inspect path/to/file.dwg\n</code></pre> <p>Output includes:</p> <ul> <li>File path</li> <li>DWG version (e.g. <code>AC1015</code>)</li> <li>Decode version</li> <li>Total entity count</li> <li>Per-type entity counts</li> </ul>"},{"location":"guide/cli/#verbose-mode","title":"Verbose Mode","text":"<p>Show expanded diagnostics:</p> <pre><code>ezdwg inspect path/to/file.dwg --verbose\n</code></pre> <p>Verbose mode shows additional details for diagnostic entity types and expands the number of unknown handle/type-code entries reported.</p>"},{"location":"guide/cli/#example-output","title":"Example Output","text":"<pre><code>file: examples/data/line_2000.dwg\nversion: AC1015\ndecode_version: AC1015\ntotal_entities: 3\nLINE: 3\n</code></pre>"},{"location":"guide/cli/#convert","title":"Convert","text":"<p>Convert a DWG file to DXF:</p> <pre><code>ezdwg convert input.dwg output.dxf\n</code></pre>"},{"location":"guide/cli/#options","title":"Options","text":"Option Description <code>--types</code> Entity filter (e.g. <code>\"LINE ARC LWPOLYLINE\"</code>) <code>--dxf-version</code> Output DXF version (default: <code>R2010</code>) <code>--strict</code> Fail if any entity cannot be converted <code>--include-unsupported</code> Also query unsupported entity types"},{"location":"guide/cli/#examples","title":"Examples","text":"<pre><code># Convert with type filter\nezdwg convert input.dwg output.dxf --types \"ARC LINE\"\n\n# Specify DXF version\nezdwg convert input.dwg output.dxf --dxf-version R2018\n\n# Strict mode\nezdwg convert input.dwg output.dxf --strict\n</code></pre>"},{"location":"guide/cli/#example-output_1","title":"Example Output","text":"<pre><code>input: input.dwg\noutput: output.dxf\ntotal_entities: 15\nwritten_entities: 12\nskipped_entities: 3\nskipped[VIEWPORT]: 3\n</code></pre>"},{"location":"guide/cli/#write","title":"Write","text":"<p>Write a DWG file using the native AC1015 writer:</p> <pre><code>ezdwg write input.dwg output.dwg\n</code></pre>"},{"location":"guide/cli/#options_1","title":"Options","text":"Option Description <code>--types</code> Entity filter (e.g. <code>\"LINE ARC LWPOLYLINE\"</code>) <code>--dwg-version</code> Output DWG version (default: <code>AC1015</code>, currently only supported value) <code>--strict</code> Fail if any entity cannot be written"},{"location":"guide/cli/#examples_1","title":"Examples","text":"<pre><code># Write only selected entity types\nezdwg write input.dwg output.dwg --types \"LINE MTEXT\"\n\n# Explicit target version\nezdwg write input.dwg output.dwg --dwg-version AC1015\n\n# Strict mode\nezdwg write input.dwg output.dwg --strict\n</code></pre>"},{"location":"guide/cli/#example-output_2","title":"Example Output","text":"<pre><code>input: input.dwg\noutput: output.dwg\ntarget_version: AC1015\ntotal_entities: 8\nwritten_entities: 7\nskipped_entities: 1\nskipped[POINT]: 1\n</code></pre>"},{"location":"guide/convert/","title":"DWG to DXF Conversion","text":""},{"location":"guide/convert/#dwg-to-dxf-conversion","title":"DWG to DXF Conversion","text":"<p>ezdwg can convert DWG files to DXF format using ezdxf as the writing backend.</p> <pre><code>pip install \"ezdwg[dxf]\"\n</code></pre>"},{"location":"guide/convert/#basic-usage","title":"Basic Usage","text":""},{"location":"guide/convert/#from-a-file-path","title":"From a File Path","text":"<pre><code>import ezdwg\n\nresult = ezdwg.to_dxf(\"input.dwg\", \"output.dxf\")\nprint(f\"Written: {result.written_entities}/{result.total_entities}\")\n</code></pre>"},{"location":"guide/convert/#from-a-document","title":"From a Document","text":"<pre><code>doc = ezdwg.read(\"input.dwg\")\nresult = doc.export_dxf(\"output.dxf\")\n</code></pre>"},{"location":"guide/convert/#from-a-layout","title":"From a Layout","text":"<pre><code>doc = ezdwg.read(\"input.dwg\")\nmsp = doc.modelspace()\nresult = msp.export_dxf(\"output.dxf\")\n</code></pre>"},{"location":"guide/convert/#options","title":"Options","text":""},{"location":"guide/convert/#filtering-by-entity-type","title":"Filtering by Entity Type","text":"<pre><code>result = ezdwg.to_dxf(\n    \"input.dwg\",\n    \"output.dxf\",\n    types=\"LINE ARC LWPOLYLINE\",\n)\n</code></pre>"},{"location":"guide/convert/#dxf-version","title":"DXF Version","text":"<pre><code>result = ezdwg.to_dxf(\n    \"input.dwg\",\n    \"output.dxf\",\n    dxf_version=\"R2010\",  # default\n)\n</code></pre> <p>Supported DXF versions: <code>R2000</code>, <code>R2004</code>, <code>R2007</code>, <code>R2010</code>, <code>R2013</code>, <code>R2018</code>.</p>"},{"location":"guide/convert/#strict-mode","title":"Strict Mode","text":"<p>In strict mode, conversion fails if any entity cannot be written:</p> <pre><code>result = ezdwg.to_dxf(\n    \"input.dwg\",\n    \"output.dxf\",\n    strict=True,\n)\n</code></pre>"},{"location":"guide/convert/#convertresult","title":"ConvertResult","text":"<p><code>to_dxf()</code> returns a <code>ConvertResult</code> with:</p> Attribute Type Description <code>source_path</code> <code>str</code> Input DWG path <code>output_path</code> <code>str</code> Output DXF path <code>total_entities</code> <code>int</code> Total entities processed <code>written_entities</code> <code>int</code> Entities successfully written <code>skipped_entities</code> <code>int</code> Entities that could not be written <code>skipped_by_type</code> <code>dict[str, int]</code> Skip counts grouped by type"},{"location":"guide/convert/#supported-entity-types","title":"Supported Entity Types","text":"<p>The following entity types can be written to DXF:</p> <p>LINE, RAY, XLINE, POINT, ARC, CIRCLE, ELLIPSE, LWPOLYLINE, POLYLINE_2D, POLYLINE_3D, POLYLINE_MESH, POLYLINE_PFACE, 3DFACE, SOLID, TRACE, SHAPE, SPLINE, TEXT, ATTRIB, ATTDEF, MTEXT, LEADER, HATCH, TOLERANCE, MLINE, INSERT, MINSERT, DIMENSION</p>"},{"location":"guide/convert/#limitations","title":"Limitations","text":"<ul> <li>Conversion is best-effort \u2014 some entities may be skipped if they cannot be represented in DXF.</li> <li>Block definitions referenced by INSERT entities are reconstructed from the DWG source.</li> <li>DIMENSION entities use native ezdxf dimension builders with a text fallback for unsupported subtypes.</li> <li>Style, linetype, and layer properties may not be fully preserved.</li> </ul>"},{"location":"guide/convert/#native-dwg-writer-ac1015","title":"Native DWG Writer (AC1015)","text":"<p>ezdwg also provides a native DWG writer for AC1015.</p> <pre><code>import ezdwg\n\nresult = ezdwg.to_dwg(\n    \"input.dwg\",\n    \"output.dwg\",\n    version=\"AC1015\",\n    types=\"LINE ARC CIRCLE LWPOLYLINE TEXT MTEXT\",\n)\nprint(result.written_entities, result.skipped_by_type)\n</code></pre> <p>You can also call:</p> <pre><code>doc = ezdwg.read(\"input.dwg\")\ndoc.export_dwg(\"output.dwg\", version=\"AC1015\")\n</code></pre> <p>Current native writer scope:</p> <ul> <li>Version: <code>AC1015</code> only</li> <li>Entities: <code>LINE</code>, <code>RAY</code>, <code>XLINE</code>, <code>POINT</code>, <code>ARC</code>, <code>CIRCLE</code>, <code>LWPOLYLINE</code>, <code>TEXT</code>, <code>MTEXT</code></li> </ul>"},{"location":"guide/entities/","title":"Working with Entities","text":""},{"location":"guide/entities/#working-with-entities","title":"Working with Entities","text":""},{"location":"guide/entities/#entity-structure","title":"Entity Structure","text":"<p>Each entity is represented as a frozen dataclass with three fields:</p> <pre><code>from ezdwg import Entity\n\n# Entity fields:\nentity.dxftype  # str \u2014 entity type name (e.g. \"LINE\", \"ARC\")\nentity.handle   # int \u2014 unique handle within the file\nentity.dxf      # dict[str, Any] \u2014 entity-specific attributes\n</code></pre>"},{"location":"guide/entities/#querying-entities","title":"Querying Entities","text":"<p>Use <code>query()</code> on a <code>Layout</code> to iterate over entities:</p> <pre><code>msp = doc.modelspace()\n\n# All supported entity types\nfor entity in msp.query():\n    print(entity.dxftype, entity.handle)\n\n# Filter by type name(s)\nfor entity in msp.query(\"LINE\"):\n    print(entity.dxf)\n\n# Multiple types (space-separated)\nfor entity in msp.query(\"LINE ARC CIRCLE\"):\n    print(entity.dxftype, entity.dxf)\n</code></pre> <p><code>iter_entities()</code> is an alias for <code>query()</code>:</p> <pre><code>for entity in msp.iter_entities(\"LINE\"):\n    print(entity.dxf)\n</code></pre>"},{"location":"guide/entities/#converting-to-points","title":"Converting to Points","text":"<p>The <code>to_points()</code> method extracts key coordinates from an entity:</p> <pre><code>for entity in msp.query(\"LINE LWPOLYLINE POINT\"):\n    points = entity.to_points()\n    print(entity.dxftype, points)\n</code></pre> <p>Supported types for <code>to_points()</code>:</p> Type Returns LINE <code>[start, end]</code> LWPOLYLINE List of vertex points POINT <code>[location]</code> TEXT / MTEXT <code>[insert]</code> DIMENSION <code>[defpoint2, defpoint3]</code> or <code>[text_midpoint]</code> RAY <code>[start, start + unit_vector]</code> XLINE <code>[start - unit_vector, start + unit_vector]</code>"},{"location":"guide/entities/#entity-type-reference","title":"Entity Type Reference","text":""},{"location":"guide/entities/#line","title":"LINE","text":"Key Type Description <code>start</code> <code>(float, float, float)</code> Start point <code>end</code> <code>(float, float, float)</code> End point"},{"location":"guide/entities/#arc","title":"ARC","text":"Key Type Description <code>center</code> <code>(float, float, float)</code> Center point <code>radius</code> <code>float</code> Radius <code>start_angle</code> <code>float</code> Start angle in degrees <code>end_angle</code> <code>float</code> End angle in degrees"},{"location":"guide/entities/#circle","title":"CIRCLE","text":"Key Type Description <code>center</code> <code>(float, float, float)</code> Center point <code>radius</code> <code>float</code> Radius"},{"location":"guide/entities/#lwpolyline","title":"LWPOLYLINE","text":"Key Type Description <code>points</code> <code>list[(float, float, float)]</code> Vertex points <code>closed</code> <code>bool</code> Whether the polyline is closed <code>const_width</code> <code>float \\| None</code> Constant width <code>bulges</code> <code>list[float] \\| None</code> Bulge values per vertex <code>widths</code> <code>list[(float, float)] \\| None</code> Start/end widths per vertex"},{"location":"guide/entities/#point","title":"POINT","text":"Key Type Description <code>location</code> <code>(float, float, float)</code> Point location"},{"location":"guide/entities/#ellipse","title":"ELLIPSE","text":"Key Type Description <code>center</code> <code>(float, float, float)</code> Center point <code>major_axis</code> <code>(float, float, float)</code> Major axis endpoint relative to center <code>axis_ratio</code> <code>float</code> Ratio of minor to major axis <code>start_angle</code> <code>float</code> Start parameter (radians) <code>end_angle</code> <code>float</code> End parameter (radians)"},{"location":"guide/entities/#text","title":"TEXT","text":"Key Type Description <code>insert</code> <code>(float, float, float)</code> Insertion point <code>text</code> <code>str</code> Text content <code>height</code> <code>float</code> Text height <code>rotation</code> <code>float</code> Rotation angle in degrees"},{"location":"guide/entities/#mtext","title":"MTEXT","text":"Key Type Description <code>insert</code> <code>(float, float, float)</code> Insertion point <code>text</code> <code>str</code> Text content <code>char_height</code> <code>float</code> Character height <code>width</code> <code>float</code> Reference rectangle width <code>attachment_point</code> <code>int</code> Attachment point code"},{"location":"guide/entities/#dimension","title":"DIMENSION","text":"<p>The <code>dxf</code> dictionary for DIMENSION entities includes:</p> Key Type Description <code>dimtype</code> <code>str</code> Subtype: <code>LINEAR</code>, <code>RADIUS</code>, <code>DIAMETER</code>, <code>ALIGNED</code>, <code>ORDINATE</code>, <code>ANG3PT</code>, <code>ANG2LN</code> <code>text_midpoint</code> <code>(float, float, float)</code> Dimension text midpoint <code>defpoint</code> <code>(float, float, float)</code> Definition point (dimension line) <code>defpoint2</code> <code>(float, float, float)</code> First extension line origin <code>defpoint3</code> <code>(float, float, float)</code> Second extension line origin <code>text</code> <code>str</code> Override text <code>angle</code> <code>float</code> Rotation angle in degrees <code>actual_measurement</code> <code>float</code> Computed measurement value <p>ARC Angles</p> <p>The high-level API returns ARC angles in degrees. The raw API (<code>ezdwg.raw</code>) returns angles in radians.</p>"},{"location":"guide/plotting/","title":"Plotting","text":""},{"location":"guide/plotting/#plotting","title":"Plotting","text":"<p>ezdwg can render DWG entities using matplotlib. Install the plotting extra:</p> <pre><code>pip install \"ezdwg[plot]\"\n</code></pre>"},{"location":"guide/plotting/#basic-usage","title":"Basic Usage","text":""},{"location":"guide/plotting/#from-a-document","title":"From a Document","text":"<pre><code>import ezdwg\n\ndoc = ezdwg.read(\"drawing.dwg\")\ndoc.plot()\n</code></pre>"},{"location":"guide/plotting/#from-a-layout","title":"From a Layout","text":"<pre><code>msp = doc.modelspace()\nmsp.plot()\n</code></pre>"},{"location":"guide/plotting/#from-a-file-path","title":"From a File Path","text":"<pre><code>import ezdwg\n\nezdwg.plot(\"drawing.dwg\")\n</code></pre>"},{"location":"guide/plotting/#parameters","title":"Parameters","text":"<p>The <code>plot()</code> function accepts the following parameters:</p> Parameter Type Default Description <code>types</code> <code>str \\| None</code> <code>None</code> Entity type filter (e.g. <code>\"LINE ARC\"</code>) <code>ax</code> <code>matplotlib.axes.Axes \\| None</code> <code>None</code> Existing axes to draw on <code>show</code> <code>bool</code> <code>True</code> Call <code>plt.show()</code> after drawing <code>equal</code> <code>bool</code> <code>True</code> Use equal aspect ratio <code>title</code> <code>str \\| None</code> <code>None</code> Plot title <code>line_width</code> <code>float</code> <code>1.0</code> Line width for geometry <code>arc_segments</code> <code>int</code> <code>64</code> Segments for arc approximation <code>auto_fit</code> <code>bool</code> <code>True</code> Auto-fit view to content <code>fit_margin</code> <code>float</code> <code>0.04</code> Margin around content (fraction) <code>dimension_color</code> <code>Any \\| None</code> <code>\"black\"</code> Color for dimension entities"},{"location":"guide/plotting/#saving-to-a-file","title":"Saving to a File","text":"<p>Set <code>show=False</code> and use matplotlib to save:</p> <pre><code>import matplotlib.pyplot as plt\nimport ezdwg\n\ndoc = ezdwg.read(\"drawing.dwg\")\nax = doc.plot(show=False)\nplt.savefig(\"output.png\", dpi=150, bbox_inches=\"tight\")\n</code></pre>"},{"location":"guide/plotting/#plotting-specific-types","title":"Plotting Specific Types","text":"<pre><code># Only lines and arcs\ndoc.plot(types=\"LINE ARC\")\n\n# Only text entities\ndoc.plot(types=\"TEXT MTEXT\")\n</code></pre>"},{"location":"guide/plotting/#custom-axes","title":"Custom Axes","text":"<pre><code>import matplotlib.pyplot as plt\n\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(16, 8))\n\ndoc = ezdwg.read(\"drawing.dwg\")\ndoc.plot(types=\"LINE\", ax=ax1, show=False, title=\"Lines\")\ndoc.plot(types=\"ARC CIRCLE\", ax=ax2, show=False, title=\"Arcs &amp; Circles\")\n\nplt.tight_layout()\nplt.show()\n</code></pre>"},{"location":"guide/plotting/#color-handling","title":"Color Handling","text":"<p>ezdwg resolves entity colors from:</p> <ol> <li>True color (24-bit RGB) \u2014 if present on the entity</li> <li>ACI color index \u2014 AutoCAD Color Index (1\u2013255)</li> <li>Layer color \u2014 inherited from the entity's layer</li> </ol> <p>Colors are applied automatically when plotting. ACI index 7 (white/black) is rendered as black for visibility on matplotlib's default light background.</p>"},{"location":"guide/reading-files/","title":"Reading Files","text":""},{"location":"guide/reading-files/#reading-dwg-files","title":"Reading DWG Files","text":""},{"location":"guide/reading-files/#opening-a-file","title":"Opening a File","text":"<p>Use <code>ezdwg.read()</code> to open a DWG file:</p> <pre><code>import ezdwg\n\ndoc = ezdwg.read(\"path/to/file.dwg\")\n</code></pre> <p>This returns a <code>Document</code> object. The function detects the DWG version automatically and raises <code>ValueError</code> if the version is unsupported.</p>"},{"location":"guide/reading-files/#document-properties","title":"Document Properties","text":"<pre><code>doc = ezdwg.read(\"path/to/file.dwg\")\n\nprint(doc.version)         # e.g. \"AC1015\"\nprint(doc.decode_version)  # e.g. \"AC1015\"\nprint(doc.path)            # file path\n</code></pre>"},{"location":"guide/reading-files/#accessing-the-modelspace","title":"Accessing the Modelspace","text":"<p>The modelspace contains the main drawing entities:</p> <pre><code>msp = doc.modelspace()\n</code></pre> <p>This returns a <code>Layout</code> object, which provides <code>query()</code> and <code>iter_entities()</code> to access entities.</p>"},{"location":"guide/reading-files/#supported-versions","title":"Supported Versions","text":"Version Code AutoCAD Version Support Level AC1014 R14 Experimental AC1015 R2000 Full AC1018 R2004 Full AC1021 R2007 Full AC1024 R2010 Full AC1027 R2013 Full AC1032 R2018 Full <p>AC1014 Support</p> <p>R14 (AC1014) has stable version detection and object-header listing, but entity geometry decoding coverage is limited.</p>"},{"location":"guide/reading-files/#lazy-loading","title":"Lazy Loading","text":"<p>ezdwg uses lazy object loading internally. The <code>ObjectLocator</code> maps handles to file offsets, and objects are decoded only when accessed. This makes opening large files fast \u2014 entities are parsed on demand as you iterate over them.</p>"}]}